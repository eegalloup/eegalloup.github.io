<!DOCTYPE html>
<html>
<head>
  <title>Logging In...</title>
</head>
<body>
  <p>Logging in...</p>
  <script>
  const hash = window.location.hash.substring(1);
  const params = new URLSearchParams(hash);
  const token = params.get("access_token");

  if (token) {
    localStorage.setItem("patreon_token", token);
    document.body.innerHTML = `
      <p>✅ Token saved</p>
      <code style="word-wrap: break-word">${token}</code>
      <p><a href="/index.html">Back to homepage</a></p>
    `;
  } else {
    document.body.innerHTML = "<p>❌ No token found in callback</p>";
  }
</script>
</body>
</html>